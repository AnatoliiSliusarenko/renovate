{% extends "RenovateMainBundle::layout.html.twig" %}

{% block title %}Менеджмент кошторисів{% endblock %}

{% block breadcrumb %}
<ol class="breadcrumb">
 	<li><a href="{{path('renovate_main_homepage')}}">Головна</a></li>
 	<li class="active">Менеджмент кошторисів</li>
</ol>
{% endblock %}

{% block content %}
<div ng-controller="EstimationsController">
	<div class="row">
		<div class="col-md-12">
			<button class="btn btn-primary" type="button" ng-click="isCollapsedEstimations = !isCollapsedEstimations" ng-init="isCollapsedEstimations=true">
				Кошториси
			</button>
			<div collapse="isCollapsedEstimations">
				<form class="form-inline">
				  <div class="form-group">
				    <label for="itemsPerPage">Показувати на сторінці</label>
			      	<select id="itemsPerPage" class="form-control" ng-model="itemsPerPage">
					  <option>1</option>
					  <option>2</option>
					  <option>3</option>
					  <option>4</option>
					  <option>5</option>
					  <option>10</option>
					  <option>25</option>
					  <option>50</option>
					  <option>100</option>
					</select>
				  </div>
				  <div class="form-group">
				    <input placeholder="Пошук кошторисів..." type="text" class="form-control" ng-model="filter.search"/>
				  </div>
				  <div class="form-group datepicker">
				  	<div class="input-group">
				  		<input placeholder="Від" id="from" ng-click="openFrom($event)" type="text" class="form-control" datepicker-popup="dd.MM.yyyy" ng-model="filter.from" is-open="openedFrom" close-text="Закрити" clear-text="Очистити" current-text="Сьогодні" />
				  		<div class="input-group-addon" ng-click="openFrom($event)"><i class="glyphicon glyphicon-calendar"></i></div>
				  	</div>
				  </div>
				  <div class="form-group datepicker">
				  	<div class="input-group">
				  		<input placeholder="До" id="to" ng-click="openTo($event)" type="text" class="form-control" datepicker-popup="dd.MM.yyyy" ng-model="filter.to" is-open="openedTo" close-text="Закрити" clear-text="Очистити" current-text="Сьогодні"/>
				  		<div class="input-group-addon" ng-click="openTo($event)"><i class="glyphicon glyphicon-calendar"></i></div>
				  	</div>
				  </div>
				</form>
				<div class="row">
					<div class="col-md-12 text-center">
						<pagination boundary-links="true" total-items="totalItems" ng-model="currentPage" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" items-per-page="itemsPerPage" max-size="5"></pagination>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<table class="table table-hover table-mobile">
			      			<thead>
						        <tr>
						          <th>#</th>
						          <th>№ кошторису</th>
						          <th>Замовник</th>
						          <th>Виконавець</th>
						          <th>Оновлено</th>
						          <th><span class="glyphicon glyphicon-cog" aria-hidden="true"></span></th>
						        </tr>
			      			</thead>
			      			<tbody>
						        <tr ng-repeat="estimation in estimations">
						          <th scope="row">[[$index+1]]</th>
						          <td>[[estimation.id]]</td>
						          <td>[[estimation.customer]]</td>
						          <td>[[estimation.performer]]</td>
						          <td>[[estimation.updated | date:"dd.MM.yyyy HH:mm:ss"]]</td>
						          <td><button ng-click="removeTariffPrivate(tariff)" type="button" class="close"><span class="glyphicon glyphicon-remove"></span></button><button ng-click="editTariffPrivate(tariff)" type="button" class="close"><span class="glyphicon glyphicon-pencil"></span></button></td>
						        </tr>
			      			</tbody>
    					</table>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12 text-center">
						<pagination boundary-links="true" total-items="totalItems" ng-model="currentPage" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" items-per-page="itemsPerPage" max-size="5"></pagination>
					</div>
				</div>
				
			</div>
			<hr>
		</div>
	</div>
	
	
</div>
{% endblock %} 

{% block javascripts %}
<script src="{{ asset('web/bundles/renovate/js/angularEstimationsController.js') }}"></script>
{% endblock %}